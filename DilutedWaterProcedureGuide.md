 현재 개발된 에디터 확장을 사용하여 dillitedwaterprocedure.txt 요구사항을 구현하는 방법을 단계별로 안내합니다.

  1. 멸균증류수 상호작용 데이터 생성

  1. Unity Editor에서 Project 창 > 마우스 우클릭 > Create > Nursing > Generic > Interaction Data 선택
  2. 새로 생성된 ScriptableObject의 이름을 "DilutedWaterInteraction"으로 지정합니다.
  3. 기본 정보를 다음과 같이 설정합니다:
    - Interaction ID: "dilutedWaterInteraction"
    - Interaction Name: "멸균증류수 절차"
    - Description: "멸균증류수 뚜껑을 열고 물을 용기에 붓는 절차"

  2. 단계 1: 뚜껑 생성 및 열기 (2단계 드래그)

  1. "상호작용 단계" 섹션에서 "새 단계 추가" 버튼을 클릭합니다.
  2. 다음과 같이 설정합니다:
    - 단계 ID: "openBottleCap"
    - 단계 이름: "뚜껑 열기"
    - 상호작용 유형: "Drag"
    - 가이드 텍스트: "뚜껑을 드래그해서 열어주세요."
  3. "고급 기능 (멸균증류수 절차)" 섹션에서:
    - "초기 오브젝트 생성" 체크박스를 활성화합니다.
    - "새 오브젝트 추가" 버튼을 클릭합니다.
    - 다음과 같이 설정합니다:
        - 오브젝트 ID: "bottleCap"
      - 오브젝트 이름: "멸균증류수 뚜껑"
      - 스프라이트: 뚜껑 이미지 할당 (프로젝트에서 적절한 스프라이트 선택)
      - 위치: (0, 100, 0) (화면에 맞게 조정)
      - 회전: (0, 0, 0)
      - 스케일: (1, 1, 1)
      - 태그: "BottleCap"
  4. "다중 단계 드래그" 체크박스를 활성화합니다.
    - "새 드래그 단계 추가" 버튼을 클릭합니다. (첫 번째 드래그 - 아래 방향)
        - 단계 ID: "dragBottleDown"
      - 화살표 위치: (0, 150, 0) (뚜껑 위쪽)
      - 화살표 회전: -90 (아래쪽 방향)
      - 필요 드래그 각도: 270 (아래쪽으로 드래그)
      - 허용 오차 범위: 30
      - 특정 오브젝트에서 시작: 체크
      - 시작 오브젝트 태그: "BottleCap"
      - 타겟 위치 오프셋: (0, -20, 0) (아래로 이동)
      - 타겟 회전 오프셋: (0, 0, 0)
    - "새 드래그 단계 추가" 버튼을 다시 클릭합니다. (두 번째 드래그 - 왼쪽 방향)
        - 단계 ID: "dragBottleSide"
      - 화살표 위치: (50, 80, 0) (뚜껑 오른쪽)
      - 화살표 회전: 180 (왼쪽 방향)
      - 필요 드래그 각도: 180 (왼쪽으로 드래그)
      - 허용 오차 범위: 30
      - 특정 오브젝트에서 시작: 체크
      - 시작 오브젝트 태그: "BottleCap"
      - 타겟 위치 오프셋: (-150, 0, 0) (왼쪽으로 이동)
      - 타겟 회전 오프셋: (0, 0, -90) (뚜껑 회전)
  5. "피드백" 섹션에서:
    - 성공 메시지: "뚜껑을 성공적으로 열었습니다!"
    - 오류 메시지: "올바른 방향으로 드래그하세요. 먼저 아래로 당긴 후 옆으로 드래그하세요."

  3. 단계 2: 퀴즈 단계

  1. "새 단계 추가" 버튼을 클릭합니다.
  2. 다음과 같이 설정합니다:
    - 단계 ID: "bottleCapQuiz"
    - 단계 이름: "뚜껑 퀴즈"
    - 상호작용 유형: "Quiz"
    - 가이드 텍스트: "멸균상태를 유지하려면 뚜껑을 어떻게 들어야 할까요?"
  3. "퀴즈 설정" 섹션에서:
    - 질문: "멸균상태를 유지하려면 뚜껑을 어떻게 들어야 할까요?"
    - 선택지 설정 (배열 크기를 3으로 설정):
        - 선택지 0: "손으로 자유롭게 들어도 된다"
      - 선택지 1: "뚜껑의 가장자리를 잡고 들어야 한다"
      - 선택지 2: "뚜껑은 테이블에 놓아두는 것이 좋다"
    - 정답 선택지 인덱스: 1 (두 번째 선택지)
  4. "피드백" 섹션에서:
    - 성공 메시지: "정확합니다! 뚜껑은 가장자리를 잡아 멸균 상태를 유지해야 합니다."
    - 오류 메시지: "틀렸습니다. 뚜껑의 멸균 상태를 유지하려면 가장자리를 잡아야 합니다."

  4. 단계 3: 쓰레기통에 물 버리기

  1. "새 단계 추가" 버튼을 클릭합니다.
  2. 다음과 같이 설정합니다:
    - 단계 ID: "pourWaterTrash"
    - 단계 이름: "쓰레기통에 물 버리기"
    - 상호작용 유형: "SingleClick"
    - 가이드 텍스트: "멸균증류수를 먼저 버릴 곳을 터치하세요."
  3. "고급 기능 (멸균증류수 절차)" 섹션에서:
    - "조건부 터치" 체크박스를 활성화합니다.
    - "새 터치 옵션 추가" 버튼을 클릭합니다. (쓰레기통 옵션)
        - 옵션 ID: "trashBinOption"
      - 타겟 태그: "TrashBin"
      - 성공 메시지: "정확합니다! 멸균증류수 병의 윗부분은 오염될 수 있기 때문에 먼저 소량을 버려야 합니다."
      - 정답 옵션: 체크
      - 물 효과 위치: (100, -80, 0) (쓰레기통 위치에 맞게 조정)
      - 물 이미지 생성: 체크
    - "새 터치 옵션 추가" 버튼을 클릭합니다. (종지/용기 옵션)
        - 옵션 ID: "containerOption"
      - 타겟 태그: "MedicineContainer"
      - 오류 메시지: "병의 윗부분은 오염되어있을 수 있기 때문에, 소량의 물을 먼저 의료폐기물상자에 버려야 합니다."
      - 정답 옵션: 체크 해제
      - 오류 테두리 효과: 체크
      - 터치 비활성화 시간: 5 (5초)
      - 오류 기록 텍스트: "멸균증류수 사용 시 병의 윗부분 소독을 위해 먼저 의료폐기물통에 소량을 버려야 한다."
    - "새 터치 옵션 추가" 버튼을 클릭합니다. (기타 지역 옵션)
        - 옵션 ID: "otherOption"
      - 타겟 태그: "Untagged"
      - 오류 메시지: "올바른 위치가 아닙니다. 의료폐기물통을 터치하세요."
      - 정답 옵션: 체크 해제
      - 오류 테두리 효과: 체크
  4. "추가 시각 효과" 섹션에서:
    - 오류 테두리 효과: 체크
    - 물 효과 표시: 체크 (쓰레기통 터치 시)

  5. 단계 4: 종지에 물 붓기

  1. "새 단계 추가" 버튼을 클릭합니다.
  2. 다음과 같이 설정합니다:
    - 단계 ID: "pourWaterContainer"
    - 단계 이름: "종지에 물 붓기"
    - 상호작용 유형: "SingleClick"
    - 가이드 텍스트: "이제 멸균증류수를 붓기 위한 올바른 용기를 터치하세요."
  3. "고급 기능 (멸균증류수 절차)" 섹션에서:
    - "조건부 터치" 체크박스를 활성화합니다.
    - "새 터치 옵션 추가" 버튼을 클릭합니다. (종지/용기 옵션)
        - 옵션 ID: "containerOption"
      - 타겟 태그: "MedicineContainer"
      - 성공 메시지: "성공적으로 멸균증류수를 용기에 부었습니다!"
      - 정답 옵션: 체크
      - 물 효과 위치: (0, -50, 0) (종지 위치에 맞게 조정)
      - 물 이미지 생성: 체크
    - "새 터치 옵션 추가" 버튼을 클릭합니다. (쓰레기통 옵션)
        - 옵션 ID: "trashBinOption"
      - 타겟 태그: "TrashBin"
      - 오류 메시지: "의료폐기물통에 이미 소량을 부었습니다. 이제 용기에 부어야 합니다."
      - 정답 옵션: 체크 해제
      - 오류 테두리 효과: 체크
    - "새 터치 옵션 추가" 버튼을 클릭합니다. (기타 지역 옵션)
        - 옵션 ID: "otherOption"
      - 타겟 태그: "Untagged"
      - 오류 메시지: "올바른 위치가 아닙니다. 종지를 터치하세요."
      - 정답 옵션: 체크 해제
      - 오류 테두리 효과: 체크
  4. "추가 시각 효과" 섹션에서:
    - 물 효과 표시: 체크
    - 물 이미지 생성: 체크 (종지 터치 시)

  6. 상호작용 시스템 등록 및 게임 오브젝트 설정

  1. 인스펙터의 하단에 있는 "상호작용 시스템에 등록" 버튼을 클릭합니다.
  2. 씬에 필요한 게임 오브젝트를 배치합니다:
    - 쓰레기통 오브젝트: "TrashBin" 태그 할당
    - 종지/용기 오브젝트: "MedicineContainer" 태그 할당
    - 뚜껑은 실행 시 동적으로 생성되므로 미리 생성할 필요 없음

  7. IntermediateManager와 연동

  IntermediateManager.cs의 PickupItem 메서드가 이미 확장되었습니다. 이제 사용자가 멸균증류수 아이템을 집을 때
  다음과 같은 동작이 수행됩니다:

  1. 멸균증류수 아이템 식별
  2. BaseInteractionSystem 찾기
  3. 초기 오브젝트 생성 (뚜껑 등)
  4. 멸균증류수 상호작용 시작

  주의사항 및 팁

  1. 태그 설정: 필요한 태그("BottleCap", "TrashBin", "MedicineContainer")가 Unity의 Tag Manager에 추가되어 있는지
  확인하세요.
  2. 스프라이트 준비: 뚜껑 스프라이트, 물 효과 스프라이트 등 필요한 시각 자산을 준비하세요.
  3. 위치 조정: 각 단계의 위치(화살표, 물 효과 등)는 씬에 맞게 조정해야 합니다.
  4. 테스트: 각 단계를 구현한 후 Play 모드에서 테스트하여 의도대로 동작하는지 확인하세요.
  5. 초기 오브젝트 참조: "CreateInitialObjects" 메서드가 실행되면 첫 번째 단계의 초기 오브젝트 설정을 기반으로
  오브젝트가 생성됩니다.
  6. 조건부 터치 및 드래그: 드래그와 터치 동작은 정의된 타겟 오브젝트에 따라 다르게 처리되며, 에디터에서 설정한
  피드백 메시지가 사용자에게 표시됩니다.

  이 가이드에 따라 멸균증류수 절차를 구현하면, 사용자는 에디터 확장 도구를 사용하여 코드 작성 없이 간호 절차를 쉽게
   만들고 수정할 수 있습니다.